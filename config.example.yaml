mode: pool  # pool æˆ– multi-portï¼ˆä¹Ÿæ”¯æŒ multi_portï¼‰
log_level: info
skip_cert_verify: false  # å…¨å±€è·³è¿‡ SSL è¯ä¹¦éªŒè¯ï¼ˆé»˜è®¤ falseï¼‰

management:
  enabled: true
  listen: 0.0.0.0:9090
  probe_target: www.apple.com:80
  password: ""  # WebUI è®¿é—®å¯†ç ï¼Œä¸ºç©ºåˆ™ä¸éœ€è¦å¯†ç ï¼ˆå¯é€‰ï¼‰

listener:
  address: 0.0.0.0
  port: 2323
  username: username
  password: password

pool:
  # è½®è¯¢æ¨¡å¼: sequential(é¡ºåº) | random(éšæœº) | latency_first(å»¶è¿Ÿä¼˜å…ˆ) | weighted(åŠ æƒ)
  mode: latency_first
  failure_threshold: 3
  blacklist_duration: 10m  # å¤±è´¥åä¸´æ—¶ç¦ç”¨æ—¶é—´

multi_port:
  address: 0.0.0.0
  base_port: 24000
  username: mpuser
  password: mppass

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# å»¶è¿Ÿåˆ†ç»„é…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
latency_groups:
  low_threshold: 100      # â‰¤100ms ä¸ºä½å»¶è¿Ÿï¼ˆé«˜é€Ÿï¼‰
  medium_threshold: 300   # â‰¤300ms ä¸ºä¸­å»¶è¿Ÿï¼Œ>300ms ä¸ºé«˜å»¶è¿Ÿ

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# è‡ªåŠ¨æµ‹é€Ÿé…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
auto_speedtest:
  enabled: true
  interval: 30m  # æ¯30åˆ†é’Ÿæµ‹é€Ÿä¸€æ¬¡

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# API è®¤è¯é…ç½®ï¼ˆä¿æŠ¤ä»£ç†æ±  APIï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
api_auth:
  enabled: false
  key: ""  # API Keyï¼Œä¸ºç©ºåˆ™ä¸éœ€è¦è®¤è¯
  # ä½¿ç”¨æ–¹å¼: /api/proxy/get?key=ä½ çš„å¯†é’¥

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# è®¢é˜…é…ç½®ï¼ˆæ”¯æŒ Web ç«¯ç®¡ç†ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™é‡Œé¢„é…ç½®ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
subscriptions:
  # - name: "æœºåœºA"
  #   url: "https://example.com/subscribe/v2ray"
  #   enabled: true
  #   refresh_interval: 1h
  # - name: "æœºåœºB"
  #   url: "https://example2.com/subscribe/clash"
  #   enabled: true
  #   refresh_interval: 2h

subscription_refresh:
  enabled: true           # å¯ç”¨è‡ªåŠ¨åˆ·æ–°
  interval: 1h            # åˆ·æ–°é—´éš”
  timeout: 30s            # è·å–è¶…æ—¶
  health_check_timeout: 60s  # æ–°èŠ‚ç‚¹å¥åº·æ£€æŸ¥è¶…æ—¶
  drain_timeout: 30s      # æ—§å®ä¾‹æ’ç©ºè¶…æ—¶
  min_available_nodes: 1  # æœ€å°‘å¯ç”¨èŠ‚ç‚¹æ•°

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# èŠ‚ç‚¹é…ç½®æ–¹å¼ï¼ˆä¸‰é€‰ä¸€æˆ–æ··åˆä½¿ç”¨ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# æ–¹å¼ 1: ä½¿ç”¨ nodes_fileï¼ˆæ¨èï¼Œæœ€ç®€å•ï¼‰
# åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œæ¯è¡Œä¸€ä¸ªä»£ç† URI
# nodes_file: nodes.txt

# æ–¹å¼ 2: ç›´æ¥åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰
nodes:
  # åªéœ€æä¾› URIï¼Œåç§°ä¼šè‡ªåŠ¨ä» #åé¢æå–ï¼Œç«¯å£è‡ªåŠ¨åˆ†é…
  - uri: "vless://uuid@server:443#èŠ‚ç‚¹åç§°"
  - uri: "ss://base64@server:8388#ğŸ‡¨ğŸ‡³ä¸­æ–‡èŠ‚ç‚¹"

  # ä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šåç§°å’Œç«¯å£
  - name: tw-vless
    uri: "vless://test"
    port: 24001

# æ–¹å¼ 3: æ··åˆä½¿ç”¨ï¼ˆä¸¤ç§æ–¹å¼çš„èŠ‚ç‚¹ä¼šåˆå¹¶ï¼‰
# nodes_file: nodes.txt
# nodes:
#   - uri: "vless://xxx@server:443#é¢å¤–èŠ‚ç‚¹"
